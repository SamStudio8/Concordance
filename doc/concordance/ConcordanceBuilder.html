<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_22) on Mon Oct 31 02:11:53 GMT 2011 -->
<TITLE>
ConcordanceBuilder
</TITLE>

<META NAME="date" CONTENT="2011-10-31">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ConcordanceBuilder";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ConcordanceBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../concordance/Concordance.html" title="class in concordance"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../concordance/IndexItem.html" title="class in concordance"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?concordance/ConcordanceBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ConcordanceBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
concordance</FONT>
<BR>
Class ConcordanceBuilder</H2>
<PRE>
java.lang.Object
  <IMG SRC="../resources/inherit.gif" ALT="extended by "><B>concordance.ConcordanceBuilder</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ConcordanceBuilder</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Processes input files and constructs a Concordance object for a given list ofindex words and source text.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Sam Nicholls (msn)</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.ArrayList&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#contexts">contexts</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Hashtable&lt;java.lang.String,<A HREF="../concordance/IndexItem.html" title="class in concordance">IndexItem</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#index">index</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#lineBuffer">lineBuffer</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#lineProcess">lineProcess</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#matchFound">matchFound</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.ArrayList&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#orderedIndex">orderedIndex</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.util.regex.Pattern</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#postTerminators">postTerminators</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#sentenceCount">sentenceCount</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.util.regex.Pattern</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#terminators">terminators</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.util.regex.Pattern</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#wordside">wordside</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#ConcordanceBuilder(java.lang.String, java.lang.String)">ConcordanceBuilder</A></B>(java.lang.String&nbsp;indexesFilePath,
                   java.lang.String&nbsp;textFilePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialises the data structures and processes the input files.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../concordance/Concordance.html" title="class in concordance">Concordance</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#buildConcordance()">buildConcordance</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a completed Concordance.<br>
 A completed Concordance is only constructed when this method is called
 on a ConcordanceBuilder.<br>
 This allows for appropriate separation of methods that process input files
 and create the Concordance from the methods that return Concordance data.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#checkPostTerminationChar(char)">checkPostTerminationChar</A></B>(char&nbsp;ch)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks the character following a fullstop is a closing parenthesis or quote.<br>
 The character is checked against the accepted post-termination characters
 by the this.postTerminators RegEx Pattern.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#checkWordsidesClean(char, char)">checkWordsidesClean</A></B>(char&nbsp;leftCh,
                    char&nbsp;rightCh)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks whether the encapsulating characters of a matched word are letters or not.<br>
 If an index word is found in the line that is currently being processed,
 the match checks whether the word is a correct match.<br>
 <br> 
 For example, the word "ay" would actually match as a word in the string "away".<br>
 The method takes parameters of the characters either side of the match, in this
 example, 'w' on the left and '.' on the right.<br>
 <br>
 If either of the two "wordsides" are matched to an alphabetic character, the
 method returns false and thus the word is not a correct match.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#handleLine(int, java.lang.String)">handleLine</A></B>(int&nbsp;lineCount,
           java.lang.String&nbsp;line)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handles a line from the user's chosen text file.<br>
 The method first checks whether the line has been terminated by a valid 
 line terminator such as full stop, exclamation mark or question mark.<br>
 If the line is terminated, the line is split into the line-to-process 
 (lineProcess) and the remainder (remainder).<br>
 The method also checks to see whether terminated lines have a closing 
 parenthesis or quotation beyond the terminating character.<br>
 Otherwise, the entire line is added to the line buffer (lineBuffer) and 
 the entire line is set to the lineProcess variable.<br>
 <br>
 The lineProcess is then converted to lowercase (as all index words are 
 lower cased) and checked for the occurrence of index words and phrases.<br>
 If a match is found, the character immediately to the left and right of 
 the match are checked for lettered characters to ensure it is a word and 
 not a word within a word.<br>
 If both the left and right character are both 'clean', the index word or 
 phrase's corresponding IndexItem value in the Hashtable is updated with 
 the current line number and if necessary, a sentence context reference 
 (which points to the element of the list where the sentence will be 
 stored when it is terminated).<br>
 <br>
 Finally, if the line was terminated, it is appended to the line buffer to
 finish the sentence, this (providing at least one index word match was 
 found) is then added to the list of contexts.<br>
 If the remainder variable is not empty, the method is recursively called 
 to handle it before moving on to the next line of the source text file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#lineSentenceTerminated(java.lang.String)">lineSentenceTerminated</A></B>(java.lang.String&nbsp;line)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Detects whether the currently read line is terminated.<br>
 A line is considered terminated (end of sentence) if the line contains 
 one of the accepted termination characters such as the full stop.<br>
 The line is checked against the this.terminators RegEx pattern.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.ArrayList&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#processIndex(java.io.BufferedReader)">processIndex</A></B>(java.io.BufferedReader&nbsp;file)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Via a BufferedReader, reads the index words file and produces an alphabetically ordered list of index words.<br>
 Reading each line, the method converts the index word or index phrase on each line to lowercase and checks if it has already been added.<br>
 Once all index words and phrases have been added, the Collections.sort method is called to alphabetize the list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.ArrayList&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../concordance/ConcordanceBuilder.html#processSource(java.io.BufferedReader)">processSource</A></B>(java.io.BufferedReader&nbsp;file)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Via a BufferedReader, reads each line of the source text file and passes it to handleLine for processing.<br>
 The method also keeps track of the current line number.<br>
 Once all lines have been processed, the method returns the list of index word and phrase contexts.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="index"><!-- --></A><H3>
index</H3>
<PRE>
private java.util.Hashtable&lt;java.lang.String,<A HREF="../concordance/IndexItem.html" title="class in concordance">IndexItem</A>&gt; <B>index</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="orderedIndex"><!-- --></A><H3>
orderedIndex</H3>
<PRE>
private java.util.ArrayList&lt;java.lang.String&gt; <B>orderedIndex</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="contexts"><!-- --></A><H3>
contexts</H3>
<PRE>
private java.util.ArrayList&lt;java.lang.String&gt; <B>contexts</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="lineBuffer"><!-- --></A><H3>
lineBuffer</H3>
<PRE>
private java.lang.String <B>lineBuffer</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="sentenceCount"><!-- --></A><H3>
sentenceCount</H3>
<PRE>
private int <B>sentenceCount</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="lineProcess"><!-- --></A><H3>
lineProcess</H3>
<PRE>
private java.lang.String <B>lineProcess</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="matchFound"><!-- --></A><H3>
matchFound</H3>
<PRE>
private boolean <B>matchFound</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="terminators"><!-- --></A><H3>
terminators</H3>
<PRE>
private static final java.util.regex.Pattern <B>terminators</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="postTerminators"><!-- --></A><H3>
postTerminators</H3>
<PRE>
private static final java.util.regex.Pattern <B>postTerminators</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="wordside"><!-- --></A><H3>
wordside</H3>
<PRE>
private static final java.util.regex.Pattern <B>wordside</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ConcordanceBuilder(java.lang.String, java.lang.String)"><!-- --></A><H3>
ConcordanceBuilder</H3>
<PRE>
public <B>ConcordanceBuilder</B>(java.lang.String&nbsp;indexesFilePath,
                          java.lang.String&nbsp;textFilePath)
                   throws java.io.IOException</PRE>
<DL>
<DD>Initialises the data structures and processes the input files.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>indexesFilePath</CODE> - The new line delimited text file that lists words to use in the concordance index.<DD><CODE>textFilePath</CODE> - The text file for which to search for index words and generate a concordance for.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="processIndex(java.io.BufferedReader)"><!-- --></A><H3>
processIndex</H3>
<PRE>
private java.util.ArrayList&lt;java.lang.String&gt; <B>processIndex</B>(java.io.BufferedReader&nbsp;file)
                                                    throws java.io.IOException</PRE>
<DL>
<DD>Via a BufferedReader, reads the index words file and produces an alphabetically ordered list of index words.<br>
 Reading each line, the method converts the index word or index phrase on each line to lowercase and checks if it has already been added.<br>
 Once all index words and phrases have been added, the Collections.sort method is called to alphabetize the list.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file</CODE> - The BufferedReader for the new line delimited file of index words.
<DT><B>Returns:</B><DD>ArrayList<String> - Alphabetized list of index words and phrases
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="processSource(java.io.BufferedReader)"><!-- --></A><H3>
processSource</H3>
<PRE>
private java.util.ArrayList&lt;java.lang.String&gt; <B>processSource</B>(java.io.BufferedReader&nbsp;file)
                                                     throws java.io.IOException</PRE>
<DL>
<DD>Via a BufferedReader, reads each line of the source text file and passes it to handleLine for processing.<br>
 The method also keeps track of the current line number.<br>
 Once all lines have been processed, the method returns the list of index word and phrase contexts.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file</CODE> - The BufferedReader for the source text file for which to search through for index word occurrences and sentence contexts
<DT><B>Returns:</B><DD>ArrayList<String> - The first sentence each index word or phrase appears in.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleLine(int, java.lang.String)"><!-- --></A><H3>
handleLine</H3>
<PRE>
private void <B>handleLine</B>(int&nbsp;lineCount,
                        java.lang.String&nbsp;line)</PRE>
<DL>
<DD>Handles a line from the user's chosen text file.<br>
 The method first checks whether the line has been terminated by a valid 
 line terminator such as full stop, exclamation mark or question mark.<br>
 If the line is terminated, the line is split into the line-to-process 
 (lineProcess) and the remainder (remainder).<br>
 The method also checks to see whether terminated lines have a closing 
 parenthesis or quotation beyond the terminating character.<br>
 Otherwise, the entire line is added to the line buffer (lineBuffer) and 
 the entire line is set to the lineProcess variable.<br>
 <br>
 The lineProcess is then converted to lowercase (as all index words are 
 lower cased) and checked for the occurrence of index words and phrases.<br>
 If a match is found, the character immediately to the left and right of 
 the match are checked for lettered characters to ensure it is a word and 
 not a word within a word.<br>
 If both the left and right character are both 'clean', the index word or 
 phrase's corresponding IndexItem value in the Hashtable is updated with 
 the current line number and if necessary, a sentence context reference 
 (which points to the element of the list where the sentence will be 
 stored when it is terminated).<br>
 <br>
 Finally, if the line was terminated, it is appended to the line buffer to
 finish the sentence, this (providing at least one index word match was 
 found) is then added to the list of contexts.<br>
 If the remainder variable is not empty, the method is recursively called 
 to handle it before moving on to the next line of the source text file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lineCount</CODE> - The current line number<DD><CODE>line</CODE> - The line from the input file to process</DL>
</DD>
</DL>
<HR>

<A NAME="lineSentenceTerminated(java.lang.String)"><!-- --></A><H3>
lineSentenceTerminated</H3>
<PRE>
private int <B>lineSentenceTerminated</B>(java.lang.String&nbsp;line)</PRE>
<DL>
<DD>Detects whether the currently read line is terminated.<br>
 A line is considered terminated (end of sentence) if the line contains 
 one of the accepted termination characters such as the full stop.<br>
 The line is checked against the this.terminators RegEx pattern.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>line</CODE> - The line to check for termination.
<DT><B>Returns:</B><DD>The location of the termination if it exists, otherwise -1.</DL>
</DD>
</DL>
<HR>

<A NAME="checkPostTerminationChar(char)"><!-- --></A><H3>
checkPostTerminationChar</H3>
<PRE>
private boolean <B>checkPostTerminationChar</B>(char&nbsp;ch)</PRE>
<DL>
<DD>Checks the character following a fullstop is a closing parenthesis or quote.<br>
 The character is checked against the accepted post-termination characters
 by the this.postTerminators RegEx Pattern.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ch</CODE> - The character to check for a post-termination character match.
<DT><B>Returns:</B><DD>true if ch matches one of the accepted characters, false otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="checkWordsidesClean(char, char)"><!-- --></A><H3>
checkWordsidesClean</H3>
<PRE>
private boolean <B>checkWordsidesClean</B>(char&nbsp;leftCh,
                                    char&nbsp;rightCh)</PRE>
<DL>
<DD>Checks whether the encapsulating characters of a matched word are letters or not.<br>
 If an index word is found in the line that is currently being processed,
 the match checks whether the word is a correct match.<br>
 <br> 
 For example, the word "ay" would actually match as a word in the string "away".<br>
 The method takes parameters of the characters either side of the match, in this
 example, 'w' on the left and '.' on the right.<br>
 <br>
 If either of the two "wordsides" are matched to an alphabetic character, the
 method returns false and thus the word is not a correct match.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>leftCh</CODE> - The character to the left of the match<DD><CODE>rightCh</CODE> - The character to the right of the match
<DT><B>Returns:</B><DD>true if both leftCh and rightCh are non-alphabetic characters, false otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="buildConcordance()"><!-- --></A><H3>
buildConcordance</H3>
<PRE>
public <A HREF="../concordance/Concordance.html" title="class in concordance">Concordance</A> <B>buildConcordance</B>()</PRE>
<DL>
<DD>Construct a completed Concordance.<br>
 A completed Concordance is only constructed when this method is called
 on a ConcordanceBuilder.<br>
 This allows for appropriate separation of methods that process input files
 and create the Concordance from the methods that return Concordance data.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Concordance - A completed Concordance object.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ConcordanceBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../concordance/Concordance.html" title="class in concordance"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../concordance/IndexItem.html" title="class in concordance"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?concordance/ConcordanceBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ConcordanceBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
